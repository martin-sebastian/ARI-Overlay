<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XML File Finder</title>
  </head>
  <body>
    <h1>XML File Finder</h1>
    <h2>Specific File Results</h2>
    <p>Checking for <code>unitinventory_univ.xml</code>...</p>
    <ul id="specific-results">
      <!-- Specific file results will be appended here -->
    </ul>

    <h2>All XML Files</h2>
    <ul id="xml-results">
      <!-- XML file results will be appended here -->
    </ul>

    <h2>All JSON Files</h2>
    <ul id="json-results">
      <!-- JSON file results will be appended here -->
    </ul>

    <script>
      const baseUrls = [
        "https://www.flatoutmotorcycles.com",
        "https://www.foxvalleycycles.com",
        "https://www.hondaeasttoledo.com",
        "https://www.hondapartshouse.com",
        "https://www.hondasuzukiofwarren.com",
        "https://www.hondaworld.com",
        "https://www.hornskawasaki.com",
        "https://www.hullygully.com",
        "https://www.hunterroadpowersports.com",
        "https://www.hurricanemotorsports.net",
        "https://www.hymarkmotorsports.com",
        "https://hdofindy.com",
        "http://www.southsideharley.com",
        "http://www.brucerossmeyer.com",
        "https://www.bergenharleydavidson.com",
        "http://www.boswellsharley.com",
        "https://www.mancushd.com",
        "https://www.worthharley-davidson.com",
        "https://www.harley-davidsonofsalem.com",
        "https://www.thunderroadharley.com",
        "https://www.zylstrahd.com",
        "https://www.westfieldyamaha.com",
        "https://www.motorcycle.com",
        "https://www.apekholdings.com",
        "https://www.sunandfunmotorsports.com",
        "https://www.drpowersports.com",
        "https://www.bignumber1.com",
        "https://www.sloansmotorcycle.com",
        "https://www.hillviewmotorsports.com",
        "https://www.rockhillpowersports.com",
        "https://www.glenburniemotorsports.com",
        "https://revlimitmotorsports.com",
        "https://www.flatoutmotorcycles.com",
        "https://www.foxvalleycycles.com",
        "https://www.motorsportsofdayton.com",
        "https://www.motoprimo.com",
        "https://www.ridenow.com",
        "https://www.delawarepowersports.com",
        "https://www.motorsportsofdeland.com",
        "https://www.motorsportsofneworleans.com",
        "https://www.motorsportsofmiami.com",
        "https://www.motorsportsofcharlotte.com",
        "https://www.motorsportsofjacksonville.com",
        "https://www.motorsportsoftrenton.com",
        "https://www.motorsportsofdaytona.com",
        "https://www.motorsportsofpanama.com",
        "https://www.motorsportsofocala.com",
        "https://www.motorsportsofclearwater.com",
        "https://www.motorsportsofnaples.com",
        "https://www.motorsportsofmelbourne.com",
        "https://www.motorsportsofstuart.com",
        "https://www.motorsportsofwestpalm.com",
        "https://www.motorsportsoflauderdale.com",
        "https://www.motorsportsofmiamibeach.com",
        "https://www.motorsportsofkeywest.com",
        "https://www.motorsportsofmarathon.com",
        "https://www.motorsportsofhomestead.com",
        "https://www.motorsportsofcutlerbay.com",
        "https://www.motorsportsofpalmbay.com",
        "https://www.motorsportsofvero.com",
        "https://www.motorsportsofportstlucie.com",
        "https://www.motorsportsofsebastian.com",
        "https://www.motorsportsofokeechobee.com",
        "https://www.motorsportsofclewiston.com",
        "https://www.motorsportsofimmokalee.com",
        "https://www.motorsportsofarcadia.com",
        "https://www.motorsportsofpunta.com",
        "https://www.motorsportsofportcharlotte.com",
        "https://www.motorsportsofenglewood.com",
        "https://www.motorsportsofsarasota.com",
        "https://www.motorsportsofbradenton.com",
        "https://www.motorsportsofpalmetto.com",
        "https://www.motorsportsofpinellaspark.com",
        "https://www.motorsportsofnewport.com",
        "https://www.motorsportsofnewportnews.com",
        "https://www.motorsportsofvirginiabeach.com",
        "https://www.motorsportsofchesapeake.com",
        "https://www.motorsportsofnorfolk.com",
        "https://www.motorsportsofportsmouth.com",
        "https://www.motorsportsofsuffolk.com",
        "https://www.motorsportsofhampton.com",
        "https://www.motorsportsofnewportnews.com",
        "https://www.motorsportsofwilliamstown.com",
        "https://www.motorsportsofgloucester.com",
        "https://www.motorsportsofmathews.com",
        "https://www.motorsportsofwestpoint.com",
        "https://www.motorsportsofnewkent.com",
        "https://www.motorsportsofmechanicsville.com",
        "https://www.motorsportsofashland.com",
        "https://www.motorsportsofhenrico.com",
        "https://www.motorsportsofmidlothian.com",
        "https://www.motorsportsofchesterfield.com",
        "https://www.motorsportsofhopewell.com",
        "https://www.motorsportsofcolonialheights.com",
        "https://www.motorsportsofpetersburg.com",
        "https://www.motorsportsofprincegeorge.com",
        "https://www.motorsportsofdisputanta.com",
        "https://www.motorsportsofnewbern.com",
        "https://www.motorsportsofkinston.com",
        "https://www.motorsportsofgoldsboro.com",
        "https://www.motorsportsofwilson.com",
        "https://www.motorsportsofrockymount.com",
        "https://www.motorsportsofroanoke.com",
        "https://www.motorsportsoflynchburg.com",
        "https://www.motorsportsofcharlottesville.com",
        "https://www.motorsportsofstaunton.com",
        "https://www.motorsportsofwinchester.com",
        "https://www.motorsportsofmartinsburg.com",
        "https://www.motorsportsofhagerstown.com",
        "https://www.motorsportsoffrederick.com",
        "https://www.motorsportsofgaithersburg.com",
        "https://www.motorsportsofrockville.com",
        "https://www.motorsportsofsilver.spring.com",
        "https://www.motorsportsofcollegepark.com",
        "https://www.motorsportsofgreenbelt.com",
        "https://www.motorsportsoflaurel.com",
        "https://www.motorsportsofbeltsville.com",
        "https://www.motorsportsofbowie.com",
        "https://www.motorsportsofannapolis.com",
        "https://www.motorsportsofsevernapark.com",
        "https://www.motorsportsofpasadena.com",
        "https://www.westfieldyamaha.com",
        "https://www.motorcycle.com",
        "https://www.sunandfunmotorsports.com",
        "https://www.drpowersports.com",
        "https://www.bignumber1.com",
        "https://www.flatoutmotorcycles.com",
        "https://www.foxvalleycycles.com",
        "https://www.motorsportsofdayton.com",
        "https://www.motoprimo.com",
        "https://www.ridenow.com",
        "https://www.delawarepowersports.com",
        "https://www.motorsportsofneworleans.com",
        "https://www.motorsportsofmiami.com",
        "https://www.motorsportsofcharlotte.com",
        "https://www.motorsportsofjacksonville.com",
        "https://www.motorsportsoftrenton.com",
        "https://www.motorsportsofdaytona.com",
        "https://www.motorsportsofpanama.com",
        "https://www.motorsportsofocala.com",
        "https://www.motorsportsofclearwater.com",
        "https://www.motorsportsofnaples.com",
        "https://www.motorsportsofmelbourne.com",
        "https://www.motorsportsofstuart.com",
        "https://www.motorsportsofwestpalm.com",
        "https://www.motorsportsoflauderdale.com",
        "https://www.motorsportsofmiamibeach.com",
        "https://www.motorsportsofkeywest.com",
        "https://www.motorsportsofmarathon.com",
        "https://www.motorsportsofhomestead.com",
        "https://www.motorsportsofcutlerbay.com",
        "https://www.motorsportsofpalmbay.com",
        "https://www.motorsportsofvero.com",
        "https://www.motorsportsofportstlucie.com",
        "https://www.motorsportsofsebastian.com",
        "https://www.motorsportsofokeechobee.com",
        "https://www.motorsportsofclewiston.com",
        "https://www.motorsportsofimmokalee.com",
        "https://www.motorsportsofarcadia.com",
        "https://www.motorsportsofpunta.com",
        "https://www.motorsportsofportcharlotte.com",
        "https://www.motorsportsofenglewood.com",
        "https://www.motorsportsofsarasota.com",
        "https://www.motorsportsofbradenton.com",
        "https://www.motorsportsofpalmetto.com",
        "https://www.motorsportsofpinellaspark.com",
        "https://www.motorsportsofnewport.com",
        "https://www.motorsportsofnewportnews.com",
        "https://www.motorsportsofvirginiabeach.com",
        "https://www.motorsportsofchesapeake.com",
        "https://www.motorsportsofnorfolk.com",
        "https://www.motorsportsofportsmouth.com",
        "https://www.motorsportsofsuffolk.com",
        "https://www.motorsportsofhampton.com",
        "https://www.motorsportsofnewportnews.com",
        "https://www.motorsportsofwilliamstown.com",
        "https://www.motorsportsofgloucester.com",
        "https://www.motorsportsofmathews.com",
        "https://www.motorsportsofwestpoint.com",
        "https://www.motorsportsofnewkent.com",
        "https://www.motorsportsofmechanicsville.com",
        "https://www.motorsportsofashland.com",
        "https://www.motorsportsofhenrico.com",
        "https://www.motorsportsofmidlothian.com",
        "https://www.motorsportsofchesterfield.com",
        "https://www.motorsportsofhopewell.com",
        "https://www.motorsportsofcolonialheights.com",
        "https://www.motorsportsofpetersburg.com",
        "https://www.motorsportsofprincegeorge.com",
        "https://www.motorsportsofdisputanta.com",
        "https://www.motorsportsofnewbern.com",
        "https://www.motorsportsofkinston.com",
        "https://www.motorsportsofgoldsboro.com",
        "https://www.motorsportsofwilson.com",
        "https://www.motorsportsofrockymount.com",
        "https://www.motorsportsofroanoke.com",
        "https://www.motorsportsoflynchburg.com",
        "https://www.motorsportsofcharlottesville.com",
        "https://www.motorsportsofstaunton.com",
        "https://www.motorsportsofwinchester.com",
        "https://www.motorsportsofmartinsburg.com",
        "https://www.motorsportsofhagerstown.com",
        "https://www.motorsportsoffrederick.com",
        "https://www.motorsportsofgaithersburg.com",
        "https://www.motorsportsofrockville.com",
        "https://www.motorsportsofsilverspring.com",
        "https://www.motorsportsofcollegepark.com",
        "https://www.motorsportsofgreenbelt.com",
        "https://www.motorsportsoflaurel.com",
        "https://www.motorsportsofbeltsville.com",
        // add more urls here
      ];

      const targetFile = "unitinventory_univ.xml";

      async function searchFiles(baseUrl) {
        try {
          // First, try to fetch the specific file directly
          try {
            const specificResponse = await fetch(`${baseUrl}/${targetFile}`);
            if (specificResponse.ok) {
              displayResult(targetFile, `${baseUrl}/${targetFile}`, "specific-results");
            }
          } catch (specificError) {
            console.error(`Error checking specific file at ${baseUrl}:`, specificError);
          }

          // Then check the page content for references
          const response = await fetch(baseUrl);
          const text = await response.text();

          // Search for specific file in page content
          const specificRegex = new RegExp(`(?:href=["']|src=["']|url\\(["']?)([^"'\\)]*${targetFile})["'\\)]?`, "gi");
          let specificMatch;
          while ((specificMatch = specificRegex.exec(text)) !== null) {
            try {
              const specificUrl = new URL(specificMatch[1], baseUrl).href;
              displayResult(targetFile, specificUrl, "specific-results");
            } catch (urlError) {
              console.error("Error parsing specific file URL:", urlError);
            }
          }

          // Search for XML files - improved regex pattern
          const xmlRegex = /(?:href=["']|src=["']|url\(["']?)([^"'\)]*\.xml)["'\)]?/gi;
          let match;
          while ((match = xmlRegex.exec(text)) !== null) {
            try {
              const xmlUrl = new URL(match[1], baseUrl).href;
              displayResult(match[1], xmlUrl, "xml-results");
            } catch (urlError) {
              console.error("Error parsing URL:", urlError);
            }
          }

          // Also check for sitemap.xml explicitly
          try {
            const sitemapResponse = await fetch(baseUrl + "/sitemap.xml");
            if (sitemapResponse.ok) {
              displayResult("sitemap.xml", baseUrl + "/sitemap.xml", "xml-results");
            }
          } catch (sitemapError) {
            console.error("Error checking sitemap:", sitemapError);
          }

          // Search for JSON files
          const jsonRegex = /(?:href=["']|src=["']|url\(["']?)([^"'\)]*\.json)["'\)]?/gi;
          while ((match = jsonRegex.exec(text)) !== null) {
            try {
              const jsonUrl = new URL(match[1], baseUrl).href;
              displayResult(match[1], jsonUrl, "json-results");
            } catch (urlError) {
              console.error("Error parsing URL:", urlError);
            }
          }
        } catch (err) {
          console.error(`Error searching files at ${baseUrl}:`, err.message);
        }
      }

      function displayResult(file, url, listId) {
        // Check if this URL is already in the list
        const resultsList = document.getElementById(listId);
        const existingLinks = Array.from(resultsList.getElementsByTagName("a"));
        if (existingLinks.some((link) => link.href === url)) {
          return; // Skip if already exists
        }

        const listItem = document.createElement("li");
        const link = document.createElement("a");
        link.href = url;
        link.textContent = url;
        link.target = "_blank";
        listItem.appendChild(link);
        resultsList.appendChild(listItem);
        console.log(`Found ${file} at ${url}`);
      }

      async function crawl() {
        for (const baseUrl of baseUrls) {
          await searchFiles(baseUrl);
        }
      }

      // Start the crawler
      crawl();
    </script>
  </body>
</html>
